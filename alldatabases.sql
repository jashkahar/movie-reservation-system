--
-- PostgreSQL database cluster dump
--

-- Started on 2024-12-27 19:00:36

SET default_transaction_read_only = off;

SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE movie_user;
ALTER ROLE movie_user WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:gt5lWxR9LoYMRhMxaagbsA==$JheL7uICjG7y1fSuxcMJcw6K/UUsBPwPcd7flZMC8z8=:XW3Q6EeNKLnlXt6c05m+TciFI/NYrq2A64TaFgKBlaU=';
CREATE ROLE postgres;
ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION BYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:FqGbM3mZr3FFtVYVlWMe9w==$KExqlQruM9MsiSJ4hCFESFxHL/HMHPXobplQWwfgFNk=:I+cKMxn+pnpHcdD5wH/+K/bjN+/PiFii0QfSWYP7hYY=';
CREATE ROLE seat_user;
ALTER ROLE seat_user WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:42LIIBQGu0rjPSwce2yZsA==$Ue+H3/1EZi/nQU4uwgXrDBAHkyyW1ftc8IxwmwXWkvM=:ReOVzPh3I6qnaCb6UvvBFOHw6bUq512VUVeDLUhCzFI=';
CREATE ROLE theater_user;
ALTER ROLE theater_user WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:1o+A0o5EogR2iyCsq2oVIA==$2zwxHj6rd/xD8fzrTItd6Kmr+fe1YX6U2JHswp/ToSI=:PjhMo4l5CBxE/i0QBwzc49NqEqhSBK7Lgm2+7tQDWgo=';
CREATE ROLE ticket_user;
ALTER ROLE ticket_user WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:r5+B65ZXiFZKq0zrVLLx6g==$l8YxpGnmxMnEw+KTmKYfHJYeUqKEWcjsQhkNU13Pxew=:ay8h2l4O3jScfIsSRI9D971nh8X4zPdo/iyX/p/+lX0=';
CREATE ROLE user_service_user;
ALTER ROLE user_service_user WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'SCRAM-SHA-256$4096:jw7IUjtbd2cv+NIApiMAew==$K3srCcMm2EMrI9yp4rxUz/6WmNp2PJ3nVW+dusEzKjI=:SIQvUgI5hBXSX4A4OpFbJNgSyVpYEpht7ChOEOZ3UrQ=';

--
-- User Configurations
--








--
-- Databases
--

--
-- Database "template1" dump
--

\connect template1

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:37

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

-- Completed on 2024-12-27 19:00:37

--
-- PostgreSQL database dump complete
--

--
-- Database "moviedb" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:37

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4795 (class 1262 OID 16546)
-- Name: moviedb; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE moviedb WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.utf8';


ALTER DATABASE moviedb OWNER TO postgres;

\connect moviedb

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 218 (class 1259 OID 16548)
-- Name: movie; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.movie (
    id bigint NOT NULL,
    description character varying(255),
    director character varying(255),
    duration integer NOT NULL,
    genre character varying(255),
    language character varying(255),
    poster_url character varying(255),
    title character varying(255),
    release_date date,
    nowshowing boolean
);


ALTER TABLE public.movie OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16547)
-- Name: movie_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.movie ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.movie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4789 (class 0 OID 16548)
-- Dependencies: 218
-- Data for Name: movie; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.movie (id, description, director, duration, genre, language, poster_url, title, release_date, nowshowing) FROM stdin;
1	A thief who steals corporate secrets through dream-sharing technology.	Christopher Nolan	148	Sci-Fi	English	http://example.com/inception.jpg	Inception	\N	\N
2	A thief who steals corporate secrets through dream-sharing technology.	Christopher Nolan	148	Sci-Fi	English	http://example.com/inception.jpg	Inception	\N	t
3	A thief who steals corporate secrets through dream-sharing technology.	Christopher Nolan	148	Sci-Fi	English	http://example.com/inception.jpg	Inception	\N	t
\.


--
-- TOC entry 4797 (class 0 OID 0)
-- Dependencies: 217
-- Name: movie_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.movie_id_seq', 3, true);


--
-- TOC entry 4642 (class 2606 OID 16554)
-- Name: movie movie_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.movie
    ADD CONSTRAINT movie_pkey PRIMARY KEY (id);


--
-- TOC entry 4796 (class 0 OID 0)
-- Dependencies: 4795
-- Name: DATABASE moviedb; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON DATABASE moviedb FROM postgres;
GRANT ALL ON DATABASE moviedb TO postgres WITH GRANT OPTION;
GRANT ALL ON DATABASE moviedb TO movie_user;


-- Completed on 2024-12-27 19:00:37

--
-- PostgreSQL database dump complete
--

--
-- Database "postgres" dump
--

\connect postgres

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:37

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 6 (class 2615 OID 16387)
-- Name: pgagent; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA pgagent;


ALTER SCHEMA pgagent OWNER TO postgres;

--
-- TOC entry 4897 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA pgagent; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA pgagent IS 'pgAgent system tables';


--
-- TOC entry 2 (class 3079 OID 16388)
-- Name: pgagent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgagent WITH SCHEMA pgagent;


--
-- TOC entry 4899 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION pgagent; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgagent IS 'A PostgreSQL job scheduler';


--
-- TOC entry 4675 (class 0 OID 16389)
-- Dependencies: 219
-- Data for Name: pga_jobagent; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_jobagent (jagpid, jaglogintime, jagstation) FROM stdin;
\.


--
-- TOC entry 4676 (class 0 OID 16398)
-- Dependencies: 221
-- Data for Name: pga_jobclass; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_jobclass (jclid, jclname) FROM stdin;
\.


--
-- TOC entry 4677 (class 0 OID 16408)
-- Dependencies: 223
-- Data for Name: pga_job; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_job (jobid, jobjclid, jobname, jobdesc, jobhostagent, jobenabled, jobcreated, jobchanged, jobagentid, jobnextrun, joblastrun) FROM stdin;
\.


--
-- TOC entry 4679 (class 0 OID 16456)
-- Dependencies: 227
-- Data for Name: pga_schedule; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_schedule (jscid, jscjobid, jscname, jscdesc, jscenabled, jscstart, jscend, jscminutes, jschours, jscweekdays, jscmonthdays, jscmonths) FROM stdin;
\.


--
-- TOC entry 4680 (class 0 OID 16484)
-- Dependencies: 229
-- Data for Name: pga_exception; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_exception (jexid, jexscid, jexdate, jextime) FROM stdin;
\.


--
-- TOC entry 4681 (class 0 OID 16498)
-- Dependencies: 231
-- Data for Name: pga_joblog; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_joblog (jlgid, jlgjobid, jlgstatus, jlgstart, jlgduration) FROM stdin;
\.


--
-- TOC entry 4678 (class 0 OID 16432)
-- Dependencies: 225
-- Data for Name: pga_jobstep; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_jobstep (jstid, jstjobid, jstname, jstdesc, jstenabled, jstkind, jstcode, jstconnstr, jstdbname, jstonerror, jscnextrun) FROM stdin;
\.


--
-- TOC entry 4682 (class 0 OID 16514)
-- Dependencies: 233
-- Data for Name: pga_jobsteplog; Type: TABLE DATA; Schema: pgagent; Owner: postgres
--

COPY pgagent.pga_jobsteplog (jslid, jsljlgid, jsljstid, jslstatus, jslresult, jslstart, jslduration, jsloutput) FROM stdin;
\.


--
-- TOC entry 4898 (class 0 OID 0)
-- Dependencies: 7
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT ALL ON SCHEMA public TO theater_user;


-- Completed on 2024-12-27 19:00:37

--
-- PostgreSQL database dump complete
--

--
-- Database "seat_reservation" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:37

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4794 (class 1262 OID 16555)
-- Name: seat_reservation; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE seat_reservation WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.utf8';


ALTER DATABASE seat_reservation OWNER TO postgres;

\connect seat_reservation

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 16558)
-- Name: alembic_version; Type: TABLE; Schema: public; Owner: seat_user
--

CREATE TABLE public.alembic_version (
    version_num character varying(32) NOT NULL
);


ALTER TABLE public.alembic_version OWNER TO seat_user;

--
-- TOC entry 4788 (class 0 OID 16558)
-- Dependencies: 217
-- Data for Name: alembic_version; Type: TABLE DATA; Schema: public; Owner: seat_user
--

COPY public.alembic_version (version_num) FROM stdin;
\.


--
-- TOC entry 4642 (class 2606 OID 16562)
-- Name: alembic_version alembic_version_pkc; Type: CONSTRAINT; Schema: public; Owner: seat_user
--

ALTER TABLE ONLY public.alembic_version
    ADD CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num);


--
-- TOC entry 4795 (class 0 OID 0)
-- Dependencies: 4794
-- Name: DATABASE seat_reservation; Type: ACL; Schema: -; Owner: postgres
--

GRANT ALL ON DATABASE seat_reservation TO seat_user;


--
-- TOC entry 4796 (class 0 OID 0)
-- Dependencies: 5
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT ALL ON SCHEMA public TO seat_user;


--
-- TOC entry 2043 (class 826 OID 16557)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: public; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT ALL ON TABLES TO seat_user;


-- Completed on 2024-12-27 19:00:38

--
-- PostgreSQL database dump complete
--

--
-- Database "theater_service" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:38

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4815 (class 1262 OID 16598)
-- Name: theater_service; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE theater_service WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.utf8';


ALTER DATABASE theater_service OWNER TO postgres;

\connect theater_service

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 218 (class 1259 OID 16600)
-- Name: auditorium; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auditorium (
    id bigint NOT NULL,
    screen_type character varying(255),
    seating_capacity integer NOT NULL,
    theater_id bigint
);


ALTER TABLE public.auditorium OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16599)
-- Name: auditorium_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auditorium ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auditorium_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16606)
-- Name: seat; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.seat (
    id bigint NOT NULL,
    "row" character varying(255),
    seat_column integer NOT NULL,
    status character varying(255),
    type character varying(255),
    auditorium_id bigint
);


ALTER TABLE public.seat OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16605)
-- Name: seat_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.seat ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.seat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16614)
-- Name: theater; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.theater (
    id bigint NOT NULL,
    contact_details character varying(255),
    location character varying(255),
    name character varying(255)
);


ALTER TABLE public.theater OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16613)
-- Name: theater_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.theater ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.theater_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4805 (class 0 OID 16600)
-- Dependencies: 218
-- Data for Name: auditorium; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auditorium (id, screen_type, seating_capacity, theater_id) FROM stdin;
1	\N	0	\N
5	IMAX	30	6
\.


--
-- TOC entry 4807 (class 0 OID 16606)
-- Dependencies: 220
-- Data for Name: seat; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.seat (id, "row", seat_column, status, type, auditorium_id) FROM stdin;
1	A	0	Available	VIP	5
\.


--
-- TOC entry 4809 (class 0 OID 16614)
-- Dependencies: 222
-- Data for Name: theater; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.theater (id, contact_details, location, name) FROM stdin;
6	123-456-7890	Downtown	Regal Cinema
7	123-456-7890	123 Main St	AMC
\.


--
-- TOC entry 4817 (class 0 OID 0)
-- Dependencies: 217
-- Name: auditorium_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auditorium_id_seq', 5, true);


--
-- TOC entry 4818 (class 0 OID 0)
-- Dependencies: 219
-- Name: seat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seat_id_seq', 1, true);


--
-- TOC entry 4819 (class 0 OID 0)
-- Dependencies: 221
-- Name: theater_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.theater_id_seq', 7, true);


--
-- TOC entry 4652 (class 2606 OID 16604)
-- Name: auditorium auditorium_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auditorium
    ADD CONSTRAINT auditorium_pkey PRIMARY KEY (id);


--
-- TOC entry 4654 (class 2606 OID 16612)
-- Name: seat seat_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat
    ADD CONSTRAINT seat_pkey PRIMARY KEY (id);


--
-- TOC entry 4656 (class 2606 OID 16620)
-- Name: theater theater_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.theater
    ADD CONSTRAINT theater_pkey PRIMARY KEY (id);


--
-- TOC entry 4657 (class 2606 OID 16621)
-- Name: auditorium fk5ywfjg6ckusn9uj9h6kqs41ll; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auditorium
    ADD CONSTRAINT fk5ywfjg6ckusn9uj9h6kqs41ll FOREIGN KEY (theater_id) REFERENCES public.theater(id);


--
-- TOC entry 4658 (class 2606 OID 16626)
-- Name: seat fkotpis64jx0uqh3k507csp9ire; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat
    ADD CONSTRAINT fkotpis64jx0uqh3k507csp9ire FOREIGN KEY (auditorium_id) REFERENCES public.auditorium(id);


--
-- TOC entry 4816 (class 0 OID 0)
-- Dependencies: 4815
-- Name: DATABASE theater_service; Type: ACL; Schema: -; Owner: postgres
--

REVOKE CONNECT,TEMPORARY ON DATABASE theater_service FROM PUBLIC;
REVOKE ALL ON DATABASE theater_service FROM postgres;
GRANT ALL ON DATABASE theater_service TO postgres WITH GRANT OPTION;
GRANT ALL ON DATABASE theater_service TO PUBLIC;
GRANT ALL ON DATABASE theater_service TO ticket_user WITH GRANT OPTION;
GRANT ALL ON DATABASE theater_service TO theater_user;


-- Completed on 2024-12-27 19:00:38

--
-- PostgreSQL database dump complete
--

--
-- Database "ticketing_service" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:38

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4817 (class 1262 OID 16563)
-- Name: ticketing_service; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE ticketing_service WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.utf8';


ALTER DATABASE ticketing_service OWNER TO postgres;

\connect ticketing_service

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 16567)
-- Name: alembic_version; Type: TABLE; Schema: public; Owner: ticket_user
--

CREATE TABLE public.alembic_version (
    version_num character varying(32) NOT NULL
);


ALTER TABLE public.alembic_version OWNER TO ticket_user;

--
-- TOC entry 221 (class 1259 OID 16583)
-- Name: payment; Type: TABLE; Schema: public; Owner: ticket_user
--

CREATE TABLE public.payment (
    id integer NOT NULL,
    ticket_id integer NOT NULL,
    status character varying,
    amount double precision NOT NULL,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.payment OWNER TO ticket_user;

--
-- TOC entry 220 (class 1259 OID 16582)
-- Name: payment_id_seq; Type: SEQUENCE; Schema: public; Owner: ticket_user
--

CREATE SEQUENCE public.payment_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_id_seq OWNER TO ticket_user;

--
-- TOC entry 4820 (class 0 OID 0)
-- Dependencies: 220
-- Name: payment_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ticket_user
--

ALTER SEQUENCE public.payment_id_seq OWNED BY public.payment.id;


--
-- TOC entry 219 (class 1259 OID 16573)
-- Name: ticket; Type: TABLE; Schema: public; Owner: ticket_user
--

CREATE TABLE public.ticket (
    id integer NOT NULL,
    user_id integer NOT NULL,
    movie_id integer NOT NULL,
    showtime_id integer NOT NULL,
    seat_numbers character varying NOT NULL,
    status character varying,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.ticket OWNER TO ticket_user;

--
-- TOC entry 218 (class 1259 OID 16572)
-- Name: ticket_id_seq; Type: SEQUENCE; Schema: public; Owner: ticket_user
--

CREATE SEQUENCE public.ticket_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.ticket_id_seq OWNER TO ticket_user;

--
-- TOC entry 4821 (class 0 OID 0)
-- Dependencies: 218
-- Name: ticket_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ticket_user
--

ALTER SEQUENCE public.ticket_id_seq OWNED BY public.ticket.id;


--
-- TOC entry 4653 (class 2604 OID 16586)
-- Name: payment id; Type: DEFAULT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.payment ALTER COLUMN id SET DEFAULT nextval('public.payment_id_seq'::regclass);


--
-- TOC entry 4651 (class 2604 OID 16576)
-- Name: ticket id; Type: DEFAULT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.ticket ALTER COLUMN id SET DEFAULT nextval('public.ticket_id_seq'::regclass);


--
-- TOC entry 4807 (class 0 OID 16567)
-- Dependencies: 217
-- Data for Name: alembic_version; Type: TABLE DATA; Schema: public; Owner: ticket_user
--

COPY public.alembic_version (version_num) FROM stdin;
9f4a25c903db
\.


--
-- TOC entry 4811 (class 0 OID 16583)
-- Dependencies: 221
-- Data for Name: payment; Type: TABLE DATA; Schema: public; Owner: ticket_user
--

COPY public.payment (id, ticket_id, status, amount, created_at) FROM stdin;
1	1	Success	15	2024-12-23 20:26:23.003944
\.


--
-- TOC entry 4809 (class 0 OID 16573)
-- Dependencies: 219
-- Data for Name: ticket; Type: TABLE DATA; Schema: public; Owner: ticket_user
--

COPY public.ticket (id, user_id, movie_id, showtime_id, seat_numbers, status, created_at) FROM stdin;
1	1	101	202	A1,A2,A3	Booked	2024-12-23 20:23:05.546988
\.


--
-- TOC entry 4822 (class 0 OID 0)
-- Dependencies: 220
-- Name: payment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ticket_user
--

SELECT pg_catalog.setval('public.payment_id_seq', 1, true);


--
-- TOC entry 4823 (class 0 OID 0)
-- Dependencies: 218
-- Name: ticket_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ticket_user
--

SELECT pg_catalog.setval('public.ticket_id_seq', 1, true);


--
-- TOC entry 4656 (class 2606 OID 16571)
-- Name: alembic_version alembic_version_pkc; Type: CONSTRAINT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.alembic_version
    ADD CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num);


--
-- TOC entry 4660 (class 2606 OID 16591)
-- Name: payment payment_pkey; Type: CONSTRAINT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT payment_pkey PRIMARY KEY (id);


--
-- TOC entry 4658 (class 2606 OID 16581)
-- Name: ticket ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_pkey PRIMARY KEY (id);


--
-- TOC entry 4661 (class 2606 OID 16592)
-- Name: payment payment_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: ticket_user
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT payment_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.ticket(id);


--
-- TOC entry 4818 (class 0 OID 0)
-- Dependencies: 4817
-- Name: DATABASE ticketing_service; Type: ACL; Schema: -; Owner: postgres
--

GRANT ALL ON DATABASE ticketing_service TO ticket_user;


--
-- TOC entry 4819 (class 0 OID 0)
-- Dependencies: 5
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT ALL ON SCHEMA public TO ticket_user;


--
-- TOC entry 2053 (class 826 OID 16566)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: public; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT ALL ON TABLES TO ticket_user;


-- Completed on 2024-12-27 19:00:38

--
-- PostgreSQL database dump complete
--

--
-- Database "userdb" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2024-12-27 19:00:38

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4914 (class 1262 OID 16632)
-- Name: userdb; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE userdb WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.utf8';


ALTER DATABASE userdb OWNER TO postgres;

\connect userdb

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 228 (class 1259 OID 16697)
-- Name: accounts_users; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.accounts_users (
    id bigint NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL,
    email character varying(254) NOT NULL,
    username character varying(100) NOT NULL
);


ALTER TABLE public.accounts_users OWNER TO user_service_user;

--
-- TOC entry 230 (class 1259 OID 16709)
-- Name: accounts_users_groups; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.accounts_users_groups (
    id bigint NOT NULL,
    users_id bigint NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.accounts_users_groups OWNER TO user_service_user;

--
-- TOC entry 229 (class 1259 OID 16708)
-- Name: accounts_users_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.accounts_users_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_users_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 16696)
-- Name: accounts_users_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.accounts_users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 16715)
-- Name: accounts_users_user_permissions; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.accounts_users_user_permissions (
    id bigint NOT NULL,
    users_id bigint NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.accounts_users_user_permissions OWNER TO user_service_user;

--
-- TOC entry 231 (class 1259 OID 16714)
-- Name: accounts_users_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.accounts_users_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_users_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 16657)
-- Name: auth_group; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO user_service_user;

--
-- TOC entry 223 (class 1259 OID 16656)
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 16665)
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO user_service_user;

--
-- TOC entry 225 (class 1259 OID 16664)
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16651)
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO user_service_user;

--
-- TOC entry 221 (class 1259 OID 16650)
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 16751)
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id bigint NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO user_service_user;

--
-- TOC entry 233 (class 1259 OID 16750)
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16643)
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO user_service_user;

--
-- TOC entry 219 (class 1259 OID 16642)
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16635)
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO user_service_user;

--
-- TOC entry 217 (class 1259 OID 16634)
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: user_service_user
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 235 (class 1259 OID 16771)
-- Name: django_session; Type: TABLE; Schema: public; Owner: user_service_user
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO user_service_user;

--
-- TOC entry 4901 (class 0 OID 16697)
-- Dependencies: 228
-- Data for Name: accounts_users; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.accounts_users (id, password, last_login, is_superuser, first_name, last_name, is_staff, is_active, date_joined, email, username) FROM stdin;
\.


--
-- TOC entry 4903 (class 0 OID 16709)
-- Dependencies: 230
-- Data for Name: accounts_users_groups; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.accounts_users_groups (id, users_id, group_id) FROM stdin;
\.


--
-- TOC entry 4905 (class 0 OID 16715)
-- Dependencies: 232
-- Data for Name: accounts_users_user_permissions; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.accounts_users_user_permissions (id, users_id, permission_id) FROM stdin;
\.


--
-- TOC entry 4897 (class 0 OID 16657)
-- Dependencies: 224
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- TOC entry 4899 (class 0 OID 16665)
-- Dependencies: 226
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- TOC entry 4895 (class 0 OID 16651)
-- Dependencies: 222
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add user	1	add_users
2	Can change user	1	change_users
3	Can delete user	1	delete_users
4	Can view user	1	view_users
5	Can add log entry	2	add_logentry
6	Can change log entry	2	change_logentry
7	Can delete log entry	2	delete_logentry
8	Can view log entry	2	view_logentry
9	Can add permission	3	add_permission
10	Can change permission	3	change_permission
11	Can delete permission	3	delete_permission
12	Can view permission	3	view_permission
13	Can add group	4	add_group
14	Can change group	4	change_group
15	Can delete group	4	delete_group
16	Can view group	4	view_group
17	Can add content type	5	add_contenttype
18	Can change content type	5	change_contenttype
19	Can delete content type	5	delete_contenttype
20	Can view content type	5	view_contenttype
21	Can add session	6	add_session
22	Can change session	6	change_session
23	Can delete session	6	delete_session
24	Can view session	6	view_session
\.


--
-- TOC entry 4907 (class 0 OID 16751)
-- Dependencies: 234
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
\.


--
-- TOC entry 4893 (class 0 OID 16643)
-- Dependencies: 220
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	accounts	users
2	admin	logentry
3	auth	permission
4	auth	group
5	contenttypes	contenttype
6	sessions	session
\.


--
-- TOC entry 4891 (class 0 OID 16635)
-- Dependencies: 218
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2024-12-26 19:36:13.224385-07
2	contenttypes	0002_remove_content_type_name	2024-12-26 19:36:13.24035-07
3	auth	0001_initial	2024-12-26 19:36:13.290343-07
4	auth	0002_alter_permission_name_max_length	2024-12-26 19:36:13.294347-07
5	auth	0003_alter_user_email_max_length	2024-12-26 19:36:13.299345-07
6	auth	0004_alter_user_username_opts	2024-12-26 19:36:13.303344-07
7	auth	0005_alter_user_last_login_null	2024-12-26 19:36:13.308342-07
8	auth	0006_require_contenttypes_0002	2024-12-26 19:36:13.310342-07
9	auth	0007_alter_validators_add_error_messages	2024-12-26 19:36:13.315381-07
10	auth	0008_alter_user_username_max_length	2024-12-26 19:36:13.320376-07
11	auth	0009_alter_user_last_name_max_length	2024-12-26 19:36:13.325344-07
12	auth	0010_alter_group_name_max_length	2024-12-26 19:36:13.331351-07
13	auth	0011_update_proxy_permissions	2024-12-26 19:36:13.336389-07
14	auth	0012_alter_user_first_name_max_length	2024-12-26 19:36:13.341387-07
15	accounts	0001_initial	2024-12-26 19:36:13.401354-07
16	admin	0001_initial	2024-12-26 19:36:13.421353-07
17	admin	0002_logentry_remove_auto_add	2024-12-26 19:36:13.427357-07
18	admin	0003_logentry_add_action_flag_choices	2024-12-26 19:36:13.436353-07
19	sessions	0001_initial	2024-12-26 19:36:13.448352-07
\.


--
-- TOC entry 4908 (class 0 OID 16771)
-- Dependencies: 235
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: user_service_user
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
\.


--
-- TOC entry 4917 (class 0 OID 0)
-- Dependencies: 229
-- Name: accounts_users_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.accounts_users_groups_id_seq', 1, false);


--
-- TOC entry 4918 (class 0 OID 0)
-- Dependencies: 227
-- Name: accounts_users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.accounts_users_id_seq', 1, false);


--
-- TOC entry 4919 (class 0 OID 0)
-- Dependencies: 231
-- Name: accounts_users_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.accounts_users_user_permissions_id_seq', 1, false);


--
-- TOC entry 4920 (class 0 OID 0)
-- Dependencies: 223
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- TOC entry 4921 (class 0 OID 0)
-- Dependencies: 225
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- TOC entry 4922 (class 0 OID 0)
-- Dependencies: 221
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.auth_permission_id_seq', 24, true);


--
-- TOC entry 4923 (class 0 OID 0)
-- Dependencies: 233
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.django_admin_log_id_seq', 1, false);


--
-- TOC entry 4924 (class 0 OID 0)
-- Dependencies: 219
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.django_content_type_id_seq', 6, true);


--
-- TOC entry 4925 (class 0 OID 0)
-- Dependencies: 217
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user_service_user
--

SELECT pg_catalog.setval('public.django_migrations_id_seq', 19, true);


--
-- TOC entry 4710 (class 2606 OID 16705)
-- Name: accounts_users accounts_users_email_key; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users
    ADD CONSTRAINT accounts_users_email_key UNIQUE (email);


--
-- TOC entry 4718 (class 2606 OID 16713)
-- Name: accounts_users_groups accounts_users_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_groups
    ADD CONSTRAINT accounts_users_groups_pkey PRIMARY KEY (id);


--
-- TOC entry 4721 (class 2606 OID 16723)
-- Name: accounts_users_groups accounts_users_groups_users_id_group_id_8dfb39d5_uniq; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_groups
    ADD CONSTRAINT accounts_users_groups_users_id_group_id_8dfb39d5_uniq UNIQUE (users_id, group_id);


--
-- TOC entry 4712 (class 2606 OID 16703)
-- Name: accounts_users accounts_users_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users
    ADD CONSTRAINT accounts_users_pkey PRIMARY KEY (id);


--
-- TOC entry 4723 (class 2606 OID 16737)
-- Name: accounts_users_user_permissions accounts_users_user_perm_users_id_permission_id_866b235f_uniq; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_user_permissions
    ADD CONSTRAINT accounts_users_user_perm_users_id_permission_id_866b235f_uniq UNIQUE (users_id, permission_id);


--
-- TOC entry 4726 (class 2606 OID 16719)
-- Name: accounts_users_user_permissions accounts_users_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_user_permissions
    ADD CONSTRAINT accounts_users_user_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 4715 (class 2606 OID 16707)
-- Name: accounts_users accounts_users_username_key; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users
    ADD CONSTRAINT accounts_users_username_key UNIQUE (username);


--
-- TOC entry 4699 (class 2606 OID 16694)
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- TOC entry 4704 (class 2606 OID 16680)
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- TOC entry 4707 (class 2606 OID 16669)
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 4701 (class 2606 OID 16661)
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- TOC entry 4694 (class 2606 OID 16671)
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- TOC entry 4696 (class 2606 OID 16655)
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- TOC entry 4730 (class 2606 OID 16758)
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- TOC entry 4689 (class 2606 OID 16649)
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- TOC entry 4691 (class 2606 OID 16647)
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- TOC entry 4687 (class 2606 OID 16641)
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 4734 (class 2606 OID 16777)
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- TOC entry 4708 (class 1259 OID 16720)
-- Name: accounts_users_email_2547c084_like; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_email_2547c084_like ON public.accounts_users USING btree (email varchar_pattern_ops);


--
-- TOC entry 4716 (class 1259 OID 16735)
-- Name: accounts_users_groups_group_id_371be490; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_groups_group_id_371be490 ON public.accounts_users_groups USING btree (group_id);


--
-- TOC entry 4719 (class 1259 OID 16734)
-- Name: accounts_users_groups_users_id_c8303f87; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_groups_users_id_c8303f87 ON public.accounts_users_groups USING btree (users_id);


--
-- TOC entry 4724 (class 1259 OID 16749)
-- Name: accounts_users_user_permissions_permission_id_5f3d0fff; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_user_permissions_permission_id_5f3d0fff ON public.accounts_users_user_permissions USING btree (permission_id);


--
-- TOC entry 4727 (class 1259 OID 16748)
-- Name: accounts_users_user_permissions_users_id_62a47b5b; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_user_permissions_users_id_62a47b5b ON public.accounts_users_user_permissions USING btree (users_id);


--
-- TOC entry 4713 (class 1259 OID 16721)
-- Name: accounts_users_username_43ad8e69_like; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX accounts_users_username_43ad8e69_like ON public.accounts_users USING btree (username varchar_pattern_ops);


--
-- TOC entry 4697 (class 1259 OID 16695)
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- TOC entry 4702 (class 1259 OID 16691)
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- TOC entry 4705 (class 1259 OID 16692)
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- TOC entry 4692 (class 1259 OID 16677)
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- TOC entry 4728 (class 1259 OID 16769)
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- TOC entry 4731 (class 1259 OID 16770)
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- TOC entry 4732 (class 1259 OID 16779)
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- TOC entry 4735 (class 1259 OID 16778)
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: user_service_user
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- TOC entry 4739 (class 2606 OID 16729)
-- Name: accounts_users_groups accounts_users_groups_group_id_371be490_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_groups
    ADD CONSTRAINT accounts_users_groups_group_id_371be490_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4740 (class 2606 OID 16724)
-- Name: accounts_users_groups accounts_users_groups_users_id_c8303f87_fk_accounts_users_id; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_groups
    ADD CONSTRAINT accounts_users_groups_users_id_c8303f87_fk_accounts_users_id FOREIGN KEY (users_id) REFERENCES public.accounts_users(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4741 (class 2606 OID 16743)
-- Name: accounts_users_user_permissions accounts_users_user__permission_id_5f3d0fff_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_user_permissions
    ADD CONSTRAINT accounts_users_user__permission_id_5f3d0fff_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4742 (class 2606 OID 16738)
-- Name: accounts_users_user_permissions accounts_users_user__users_id_62a47b5b_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.accounts_users_user_permissions
    ADD CONSTRAINT accounts_users_user__users_id_62a47b5b_fk_accounts_ FOREIGN KEY (users_id) REFERENCES public.accounts_users(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4737 (class 2606 OID 16686)
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4738 (class 2606 OID 16681)
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4736 (class 2606 OID 16672)
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4743 (class 2606 OID 16759)
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4744 (class 2606 OID 16764)
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_accounts_users_id; Type: FK CONSTRAINT; Schema: public; Owner: user_service_user
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_accounts_users_id FOREIGN KEY (user_id) REFERENCES public.accounts_users(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4915 (class 0 OID 0)
-- Dependencies: 4914
-- Name: DATABASE userdb; Type: ACL; Schema: -; Owner: postgres
--

GRANT ALL ON DATABASE userdb TO user_service_user WITH GRANT OPTION;


--
-- TOC entry 4916 (class 0 OID 0)
-- Dependencies: 5
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT ALL ON SCHEMA public TO user_service_user;


-- Completed on 2024-12-27 19:00:39

--
-- PostgreSQL database dump complete
--

-- Completed on 2024-12-27 19:00:39

--
-- PostgreSQL database cluster dump complete
--

